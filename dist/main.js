(()=>{"use strict";function e(e,t){this.city=e,this.country=t}let t=document.getElementsByClassName("main")[0];const n=e=>{console.log(e),i(),a(e)},a=e=>{let n=document.createElement("div"),a=document.createElement("h1"),i=document.createElement("div"),r=document.createElement("h3"),d=document.createElement("div"),c=document.createElement("h1"),s=document.createElement("div"),l=document.createElement("p"),m=document.createElement("p"),o=document.createElement("p"),p=document.createElement("div"),u=document.createElement("p"),h=document.createElement("p"),E=document.createElement("p");n.setAttribute("class","location"),i.setAttribute("class","generalInfo"),r.setAttribute("class","condition"),d.setAttribute("class","degreesContainer"),c.setAttribute("class","degrees"),s.setAttribute("class","degreeDetails"),p.setAttribute("class","extraDetails"),a.innerText=`${e[0].location.city}, ${e[0].location.country}`;let C=e[0].description;r.innerText=C.toUpperCase(),c.innerText=Math.round(1.8*(`${e[0].temperature.temp}`-273.15)+32)+"째F",l.innerText="High: "+Math.round(1.8*(`${e[0].temperature.temp_max}`-273.15)+32)+"째F",m.innerText="Low: "+Math.round(1.8*(`${e[0].temperature.temp_min}`-273.15)+32)+"째F",o.innerText="Feels like: "+Math.round(1.8*(`${e[0].temperature.feels_like}`-273.15)+32)+"째F",u.innerText="Wind: "+Math.round(.6214*`${e[0].wind}`)+" MPH",h.innerText=`Humidity: ${e[0].temperature.humidity}.0%`,E.innerText=`Pressure: ${e[0].temperature.pressure}`,t.appendChild(i),i.appendChild(n),n.appendChild(a),i.appendChild(r),i.appendChild(d),d.appendChild(c),d.appendChild(s),s.appendChild(o),s.appendChild(l),s.appendChild(m),t.appendChild(p),p.appendChild(u),p.appendChild(h),p.appendChild(E)},i=()=>{t.innerHTML=""},r=document.getElementById("searchBtn"),d=document.getElementById("cancelBtn");r.addEventListener("click",(()=>{document.getElementsByClassName("searchbox")[0].classList.contains("active")&&(async()=>{let t=[],n=searchbar.value;return await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&appid=2e4d099728cef11505f832bb292f954b`,{mode:"cors"}).then((function(e){return e.json()})).then((function(n){let a={location:new e(n.name,n.sys.country),temperature:n.main,description:n.weather[0].description,wind:n.wind.speed};t.push(a)})),searchbar.value="",t})().then(n),document.getElementsByClassName("searchbox")[0].classList.add("active")})),d.addEventListener("click",(()=>{document.getElementsByClassName("searchbox")[0].classList.remove("active")})),document.addEventListener("keypress",(e=>{13===(e.keyCode?e.keyCode:e.which)&&r.click()}))})();